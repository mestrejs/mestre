<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>

    {% if site.google_analytics %}
      <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '{{ site.google_analytics }}');
      </script>
    {% endif %}
    <meta charset="UTF-8">

{% seo %}
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flexboxgrid/6.3.1/flexboxgrid.min.css" integrity="sha256-/8+sU56ayrJGahG9mmcUaNEghbavaceGybkdqO96Kk0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
  </head>
  <body>
    <div class="row">
      <div class="col-sm-3 pure-menu" style="padding: 0 !important;">
        <aside>
          <h1 class="logo pure-menu-heading">Mestre</h1>
          <ul class="pure-menu-list">
            <li class="pure-menu-item"><a href="/mestre/" class="pure-menu-link">Home</a></li>
            <li class="pure-menu-item"><a href="/mestre/intro" class="pure-menu-link">Introduction</a></li>
            <li class="pure-menu-item"><a href="/mestre/diy" class="pure-menu-link">DIY Mestre</a></li>
            <li class="pure-menu-item"><a href="/mestre/pages" class="pure-menu-link">Pages</a></li>
            <li class="pure-menu-item"><a href="/mestre/views" class="pure-menu-link">View Components</a></li>
            <li class="pure-menu-item"><a href="/mestre/layouts" class="pure-menu-link">Layouts</a></li>
            <li class="pure-menu-item"><a href="/mestre/models" class="pure-menu-link">Models</a></li>
            <li class="pure-menu-item"><a href="/mestre/services" class="pure-menu-link">Services</a></li>
            <li class="pure-menu-item"><a href="/mestre/testing" class="pure-menu-link">Testing</a></li>
            <li class="pure-menu-item"><a href="/mestre/deploy" class="pure-menu-link">Deploy</a></li>
            <li class="pure-menu-item"><a href="/mestre/hoc" class="pure-menu-link">Why HOC?</a></li>
            <li class="pure-menu-item"><a href="/mestre/style" class="pure-menu-link">Style Guide</a></li>
            <li class="pure-menu-item"><a href="/mestre/meta" class="pure-menu-link">Thinking Meta</a></li>
            <li class="pure-menu-item"><a href="/mestre/next" class="pure-menu-link">Next Steps</a></li>
          </ul>
        </aside>
      </div>
      <div class="col-sm-9 no-padding content-section" style="padding: 0 !important;">
        <div class="colortron"></div>

        <main id="content" class="main-content grid" role="main">


          {{ content }}

          <footer class="site-footer">
            {% if site.github.is_project_page %}
              <span class="site-footer-owner"><a href="{{ site.github.repository_url }}">{{ site.github.repository_name }}</a> is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a>.</span>
            {% endif %}
            <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
          </footer>
        </main>

      </div>
    </div>

    <script>
      console.log("TRACING!!!")
      const colortron = document.getElementsByClassName("colortron")[0];

      window.addEventListener("scroll", function() {
        console.log(setScrollPercentage());
        let offset = setScrollPercentage();
        colortron.style.transform = `translateX(-${offset}%)`;        
      })
      

      function setScrollPercentage() {
         const page = document.getElementById("content");
         const pageheight = page.offsetHeight         
    
         return (( window.pageYOffset / pageheight ) / 2) * 100;
      }
    </script>
  </body>
</html>
